/* Alien Console v2 â€” styles.css */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: system-ui, ui-sans-serif, Segoe UI, Roboto, Arial, sans-serif; color: hsl(0 0% 98%); background: black; overflow-x: hidden; }

:root {
  --bg1: 270 90% 12%;
  --bg2: 200 90% 10%;
  --fg: 0 0% 98%;
  --card: 0 0% 100%/0.06;
  --glow: 200 100% 50%;
  --accent: 300 100% 60%;
  --accent2: 180 100% 60%;
  --radius: 14px;
  --shadow: 0 10px 30px hsl(var(--glow) / 0.2), inset 0 0 0 1px hsl(0 0% 100% / 0.06);
  --gap: 16px;

  --flux: 0.55;
  --phase: 0.35;
  --gain: 0.75;
  --worm: 0.2;
}

body[data-theme="vapor"] {
  --bg1: 200 70% 10%;
  --bg2: 320 70% 8%;
  --glow: 320 100% 60%;
  --accent: 180 100% 60%;
  --accent2: 50 100% 60%;
}
body[data-theme="solar"] {
  --bg1: 40 95% 8%;
  --bg2: 0 90% 8%;
  --glow: 40 100% 60%;
  --accent: 10 100% 60%;
  --accent2: 210 100% 60%;
}
body[data-theme="noir"] {
  --bg1: 260 15% 8%;
  --bg2: 260 10% 5%;
  --glow: 260 80% 55%;
  --accent: 190 80% 60%;
  --accent2: 0 80% 60%;
}

.bg {
  position: fixed; inset: 0;
  background:
    radial-gradient(1200px 800px at 20% -10%, hsl(var(--accent)/0.25), transparent 60%),
    radial-gradient(1200px 800px at 80% 110%, hsl(var(--accent2)/0.25), transparent 60%),
    conic-gradient(from 90deg at 50% 50%, hsl(var(--bg1)), hsl(var(--bg2)), hsl(var(--bg1)));
  filter: saturate(calc(1 + var(--worm))) blur(calc(var(--worm) * 4px));
  animation: drift 30s linear infinite;
  opacity: .95;
}
.bg::before {
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(2px 2px at 10% 20%, white 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 30% 80%, white 50%, transparent 51%),
    radial-gradient(2px 2px at 80% 30%, white 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 60% 60%, white 50%, transparent 51%);
  background-size: 600px 600px;
  opacity:.25;
  filter: drop-shadow(0 0 6px white);
  animation: twinkle 4s linear infinite;
}
@keyframes drift { to { background-position: 300px 0, -300px 0, 0 0; } }
@keyframes twinkle { 50% { opacity:.35 } }

.topbar, .bottombar {
  position: sticky;
  top: 0;
  backdrop-filter: blur(10px) saturate(1.2);
  background: linear-gradient( to right, hsl(0 0% 100% / 0.06), hsl(0 0% 100% / 0.02));
  border-bottom: 1px solid hsl(0 0% 100% / 0.12);
  z-index: 10;
}
.bottombar { top: auto; bottom: 0; display: flex; justify-content: space-between; padding: 8px 14px; font-size: 12px; }

.topbar { display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; }
.brand { display: flex; align-items: center; gap: 10px; font-weight: 700; letter-spacing: .5px; text-transform: uppercase; }
.toolbar { display:flex; align-items:center; gap: 10px; }
.themes { display:flex; gap:8px; }
.chip { border: 1px solid hsl(0 0% 100% / .2); background: hsl(0 0% 100% / .06); color: white; padding: 6px 10px; border-radius: 999px; cursor: pointer; }
.chip[aria-pressed="true"] { outline: 2px solid hsl(var(--glow)); box-shadow: 0 0 20px hsl(var(--glow) / .5) inset; }

.actions button { padding: 8px 12px; border-radius: 10px; background: hsl(0 0% 100% / .06); border: 1px solid hsl(0 0% 100% / .2); color: white; cursor: pointer; }
.actions button:hover { box-shadow: 0 0 20px hsl(var(--glow) / .4) inset; }

.console-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--gap);
  padding: 16px;
  padding-bottom: 64px;
}

.widget {
  background: hsl(var(--card));
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1px solid hsl(0 0% 100% / .08);
  overflow: hidden;
  display:flex; flex-direction: column;
}
.widget header { padding: 10px 12px; font-weight: 700; letter-spacing: .5px; text-transform: uppercase; font-size: 12px; color: hsl(var(--accent) / .9); background: linear-gradient( to right, hsl(0 0% 100% / .06), transparent ); }
.widget .hint { padding: 8px 12px; opacity: .7; font-size: 12px; }

.energy-core .core-wrap { position: relative; display:grid; place-items:center; padding: 30px; aspect-ratio: 1.6 / 1; }
.core {
  width: 160px; height: 160px; border-radius: 50%;
  background:
    radial-gradient(circle at 50% 50%, hsl(var(--accent) / .7), transparent 60%),
    conic-gradient(from 0deg, hsl(var(--accent)), hsl(var(--accent2)), hsl(var(--glow)), hsl(var(--accent)));
  box-shadow: 0 0 40px hsl(var(--glow) / .6), inset 0 0 60px hsl(var(--accent2) / .7);
  border: 2px solid hsl(0 0% 100% / .2);
  cursor: pointer;
  animation: throb 4s ease-in-out infinite paused;
}
.core[aria-pressed="true"] { animation-play-state: running; }
@keyframes throb { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.06); } }

.ring {
  position:absolute; width: 230px; height: 230px; border-radius:50%;
  border: 10px solid hsl(0 0% 100% / .08);
  box-shadow: inset 0 0 20px hsl(var(--glow) / .25), 0 0 60px hsl(var(--glow) / .25);
}
.ring::after {
  content:""; position:absolute; inset:-10px; border-radius:50%;
  border: 10px dashed hsl(var(--accent) / .65);
  filter: drop-shadow(0 0 10px hsl(var(--accent) / .6));
}
.ring-1 { transform: rotate(0deg); }
.ring-2 { width: 280px; height: 280px; transform: rotate(15deg); }
.ring-3 { width: 320px; height: 320px; transform: rotate(-25deg); }

.knob-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap: 16px; padding: 16px; }
.knob-wrap { display:flex; flex-direction:column; align-items:center; gap: 10px; }
.knob { --angle: 0deg; width: 100px; height: 100px; border-radius:50%; display:grid; place-items:center;
  background: radial-gradient(circle at 30% 30%, hsl(0 0% 100%/.15), transparent 60%) , hsl(0 0% 100%/.04);
  border: 1px solid hsl(0 0% 100% / .1);
  box-shadow: inset 0 0 40px hsl(var(--accent) / .15), 0 0 30px hsl(var(--glow) / .15);
  cursor: grab; touch-action: none;
}
.knob:active { cursor: grabbing; }
.knob .dial { width: 80px; height: 80px; border-radius:50%; position:relative; transform: rotate(var(--angle)); transition: transform .05s linear; }
.knob .dial::before {
  content:"";
  position:absolute; inset:0; border-radius:50%;
  border: 8px solid transparent;
  border-top-color: hsl(var(--accent)); border-right-color: hsl(var(--accent2));
  filter: drop-shadow(0 0 10px hsl(var(--glow) / .5));
}
.knob .indicator { position:absolute; top: -6px; left: 50%; width: 6px; height: 14px; background: hsl(var(--accent)); border-radius: 4px; transform: translateX(-50%); }

#drone-pad { margin: 12px; border-radius: 12px; position: relative; height: 220px;
  background:
    radial-gradient(120px 80px at 20% 20%, hsl(var(--accent)/.25), transparent 60%),
    radial-gradient(180px 120px at 80% 60%, hsl(var(--accent2)/.25), transparent 60%),
    conic-gradient(from 180deg at 50% 50%, hsl(0 0% 100%/.04), hsl(0 0% 100%/.08), hsl(0 0% 100%/.04));
  border: 1px solid hsl(0 0% 100%/.12);
  box-shadow: inset 0 0 40px hsl(var(--glow)/.2), 0 0 20px hsl(var(--glow)/.2);
  cursor: crosshair;
}
#drone-pad .cursor { position:absolute; width: 14px; height: 14px; border-radius:50%; background: white; filter: drop-shadow(0 0 10px hsl(var(--glow))); transform: translate(-50%,-50%); pointer-events:none; }

.drone-controls { display:flex; gap: 12px; padding: 0 12px 12px; flex-wrap: wrap; }
.drone-controls label { display:flex; gap: 8px; align-items:center; }

.tone-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 12px; }
.tone { padding: 16px 10px; border-radius: 10px; border: 1px solid hsl(0 0% 100%/.12); background: hsl(0 0% 100%/.06); color:white; cursor:pointer; font-weight:700; letter-spacing:.8px; }
.tone:active { box-shadow: 0 0 14px hsl(var(--glow)/.5) inset; }

.toggle-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 12px; }
.toggle { display:flex; align-items:center; gap: 10px; justify-content: space-between; background:hsl(0 0% 100%/.04); padding: 10px 12px; border-radius:10px; border:1px solid hsl(0 0% 100%/.1); }
.toggle input { appearance:none; width: 48px; height: 26px; border-radius:999px; background:hsl(0 0% 100%/.15); border:1px solid hsl(0 0% 100%/.2); position:relative; outline:none; cursor:pointer; transition: filter .2s; }
.toggle input::after { content:""; position:absolute; inset:3px; width:20px; height:20px; border-radius:50%; background:white; box-shadow: 0 2px 4px hsl(0 0% 0%/.4); transform: translateX(0); transition: transform .2s ease; }
.toggle input:checked { background: linear-gradient(90deg, hsl(var(--accent)), hsl(var(--accent2))); box-shadow: 0 0 18px hsl(var(--glow) / .5) inset; }
.toggle input:checked::after { transform: translateX(22px); }

.slider-bank { display:flex; gap: 10px; padding: 12px; justify-content: space-between; }
.vslider { position: relative; height: 160px; width: 20px; display:flex; align-items:center; justify-content:center; }
.vslider input[type="range"] { writing-mode: bt-lr; -webkit-appearance: slider-vertical; width: 20px; height: 160px; background: transparent; }
.vslider input[type="range"]::-webkit-slider-runnable-track { background: linear-gradient(to top, hsl(var(--accent)/.5), hsl(0 0% 100%/.08)); border-radius: 10px; width: 6px; margin: 0 auto; height: 160px; }
.vslider input[type="range"]::-webkit-slider-thumb { -webkit-appearance:none; width: 18px; height: 18px; border-radius:50%; background: white; margin-top: -7px; box-shadow: 0 0 10px hsl(var(--glow) / .7); }
.vslider input[type="range"]::-moz-range-track { background: linear-gradient(to top, hsl(var(--accent)/.5), hsl(0 0% 100%/.08)); border-radius: 10px; height: 160px; }
.vslider input[type="range"]::-moz-range-thumb { width: 18px; height: 18px; border-radius:50%; background: white; border: none; box-shadow: 0 0 10px hsl(var(--glow) / .7); }

.matrix-grid { display:grid; grid-template-columns: repeat(8, 1fr); gap: 6px; padding: 12px; }
.cell { aspect-ratio: 1/1; border-radius: 8px; background: hsl(0 0% 100% / .06); border: 1px solid hsl(0 0% 100% / .12); cursor: pointer; position:relative; }
.cell.active { background: conic-gradient(from 180deg, hsl(var(--accent) / .9), hsl(var(--accent2) / .9)); box-shadow: 0 0 18px hsl(var(--glow) / .6) inset, 0 0 10px hsl(var(--glow) / .4); }
.cell.step::after { content:""; position:absolute; inset:-3px; border: 2px dashed hsl(var(--glow)); border-radius:10px; pointer-events:none; }

.matrix-controls { display:flex; gap: 12px; align-items:center; padding: 0 12px 12px; flex-wrap: wrap; }
.matrix-controls input[type="range"] { width: 140px; }

.scope { display:flex; flex-direction: column; }
#scope { width: 100%; height: auto; display:block; background: radial-gradient(circle at 50% 30%, hsl(0 0% 100% / .08), transparent 60%), hsl(0 0% 100% / .02); border-top: 1px solid hsl(0 0% 100% / .06); border-bottom: 1px solid hsl(0 0% 100% / .06); }
#nebula { width: 100%; height: auto; display:block; background: radial-gradient(200px 100px at 80% 40%, hsl(var(--accent)/.12), transparent), hsl(0 0% 100% / .02); }

.fx-grid, .mod-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap: 10px; padding: 12px; }
.mod-grid { grid-template-columns: repeat(5, 1fr); }
.mod-header { grid-column: 1 / -1; font-weight:700; letter-spacing:.6px; opacity:.8; }
.mod-route { display:flex; align-items:center; gap:6px; }

.wormhole { display:flex; flex-direction:column; }
#worm { margin: 16px; width: calc(100% - 32px); }
#worm::-webkit-slider-thumb { -webkit-appearance:none; width:22px; height:22px; border-radius:50%; background:white; box-shadow: 0 0 10px hsl(var(--glow)/.7); }
#worm::-webkit-slider-runnable-track { height: 12px; border-radius:8px; background: linear-gradient(90deg, hsl(var(--accent)/.8), hsl(var(--accent2)/.8)); }
#worm::-moz-range-track { height: 12px; border-radius:8px; background: linear-gradient(90deg, hsl(var(--accent)/.8), hsl(var(--accent2)/.8)); }
#worm::-moz-range-thumb { width:22px; height:22px; border-radius:50%; background:white; border:none; box-shadow: 0 0 10px hsl(var(--glow)/.7); }

.keypad .pad { display:grid; grid-template-columns: repeat(4, 1fr); gap: 14px; padding: 14px; }
.glyph { aspect-ratio: 1/1; border-radius: 14px; display:grid; place-items:center; border:1px solid hsl(0 0% 100%/.12); background:hsl(0 0% 100%/.05); cursor:pointer; position:relative; overflow:hidden; }
.glyph:hover { box-shadow: 0 0 18px hsl(var(--glow) / .6) inset; }
.glyph__icon { width: 88%; height: 88%; filter: drop-shadow(0 0 12px hsl(var(--glow)/.7)); }
.glyph.playing::after { content:""; position:absolute; inset:0; background: radial-gradient(circle at 50% 50%, hsl(var(--accent)/.5), transparent 60%); }

.terminal .crt { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; padding: 12px; height: 180px; overflow: auto; background: radial-gradient(300px 180px at 10% 20%, hsl(var(--accent)/.15), transparent), hsl(0 0% 100% / .03); border-top: 1px solid hsl(0 0% 100%/.06); }
.line { opacity: .9; white-space: pre-wrap; }
.line .tag { color: hsl(var(--accent)); }
.line .val { color: hsl(var(--accent2)); }

dialog#help { border: 1px solid hsl(0 0% 100%/.2); background: hsl(0 0% 8% / 0.94); color: white; border-radius: 12px; padding: 16px 20px; box-shadow: 0 10px 40px hsl(var(--glow)/.35); }
dialog::backdrop { background: radial-gradient(closest-side, hsl(var(--accent) / .35), transparent); }

.kbd { opacity: .8; }

@media (max-width: 620px) {
  .knob-grid { grid-template-columns: repeat(2, 1fr); }
  .keypad .pad { grid-template-columns: repeat(3, 1fr); }
  .fx-grid { grid-template-columns: repeat(3, 1fr); }
  .mod-grid { grid-template-columns: repeat(3, 1fr); }
}
